<!DOCTYPE html>
<html>

<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-566NHGN');</script>
  <!-- End Google Tag Manager -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <style>
    .async-hide {
      opacity: 0 !important
    }
  </style>
  <script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
  h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
  })(window,document.documentElement,'async-hide','dataLayer',4000,
  {'GTM-PJFD8HV':true});</script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-129094912-1"></script>
  <script> window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    ga('require', 'GTM-PJFD8HV');
    //gtag('config', 'UA-129094912-1');
    gtag('config','UA-129094912-1',{'optimize_id':'GTM-PJFD8HV'});
  </script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- PAGE settings -->
  <link rel="icon" href="https://templates.pingendo.com/assets/Pingendo_favicon.ico">
  <title>Go look up the Stores!</title>
  <meta name="description" content="Wireframe design of a landing page by Pingendo">
  <meta name="keywords" content="Pingendo bootstrap example template wireframe landing">
  <meta name="author" content="Pingendo">
  <!-- CSS dependencies -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="wireframe.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="">
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js"></script>
  <script src="https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js">
  </script>
</head>

<body class="">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-566NHGN" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <nav class="navbar navbar-expand-md navbar-light bg-warning">
    <div class="container">
      <a class="navbar-brand" href="#"><i class="fa d-inline fa-lg fa-bullseye"></i></a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar2SupportedContent" aria-controls="navbar2SupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span> </button>
      <div class="collapse navbar-collapse text-center justify-content-between" id="navbar2SupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item text-uppercase" style="	text-shadow: 0px 0px 4px black;">
            <a class="nav-link mx-2" href="index.html">Home</a>
          </li>
          <li class="nav-item text-uppercase" style="	text-shadow: 0px 0px 4px black;">
            <a class="nav-link mx-2" href="landing.html">Items</a>
          </li>
          <li class="nav-item text-uppercase" style="	text-shadow: 0px 0px 4px black;">
            <a class="nav-link mx-2" href="brands.html">Brands</a>
          </li>
          <li class="nav-item text-uppercase" style="	text-shadow: 0px 0px 4px black;">
            <a class="nav-link mx-2" href="stores.html">Stores</a>
          </li>
          <li class="nav-item text-uppercase" style="	text-shadow: 0px 0px 4px black;">
            <a class="nav-link mx-2" href="contact.html">CONTACT US</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <header class="masthead" style="background-image: url('img/items-bg.jpg')"></header>
  <div class="py-3">
    <div class="container">
      <iframe src="https://uploads.knightlab.com/storymapjs/ab31fff46d594ab5067f939f8f53807d/stores/index.html" frameborder="0" width="100%" height="550"></iframe>
    </div>
  </div>
  <div class="py-3">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
        </div>
        <div class="col-md-4">
        </div>
        <div class="col-md-4">
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="col-md-12">
            <h4 class=""><i class="fa fa-angle-double-down"></i>JUICE</h4>
          </div>
          <div class="embed-responsive embed-responsive-16by9">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/HL6TL_hiDnA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
          </div>
        </div>
        <div class="col-md-3">
          <div class="col-md-12">
            <h4 class="" contenteditable="true"><i class="fa fa-angle-double-down"></i>POPCORN</h4>
          </div>
          <div class="embed-responsive embed-responsive-16by9">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/8f6cu7Yhn6g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
          </div>
        </div>
        <div class="col-md-3">
          <div class="col-md-12">
            <h4 class="" contenteditable="true"><i class="fa fa-angle-double-down"></i>EXTENSIVE PUBLICITY</h4>
          </div>
          <div class="embed-responsive embed-responsive-16by9">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/I3S3iqomO-g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
          </div>
        </div>
        <div class="col-md-3">
          <div class="col-md-12">
            <h4 class=""><i class="fa fa-angle-double-down"></i>OVERLAB</h4>
          </div>
          <div class="embed-responsive embed-responsive-16by9">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/idPAFV9t3PY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center my-0 py-3">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 class="mb-3">Find where you can get your items and check the opening time !</h1>
          <br>
          <button id="B3" type="button" class="btn btn-success">STORES LIST</button>
          <button id="B1" type="button" class="btn btn-danger">NUMBERS OF ITEMS</button>
          <button id="B5" type="button" class="btn btn-info">AVERAGE PRICE SPREAD</button>
          <br>
          <iframe id="airtable-embed4" style="display: none" src="https://airtable.com/embed/shrpBXHnj5qVvPeSG?backgroundColor=gray&amp;viewControls=on" frameborder="0" onmousewheel="" width="100%" height="533"></iframe>
          <br>
          <div class="row">
            <div class="col-md-6">
              <div class="table-responsive">
                <table id="example2" style="width:100%" class="table table-bordered"></table>
              </div>
            </div>
            <div class="col-md-6">
              <div class="table-responsive">
                <table id="example4" style="width:100%" class="table table-bordered"></table>
              </div>
            </div>
          </div>
          <div id="chart"></div>
          <div id="chart2"></div>
          <br>
          <div id="mapid" style="width: 100%; height: 440px; border: 1px solid #AAA;"></div>
          <br><br>
          <button type="button" class="btn btn-success" id="roll_up" onclick="show_stores();">Show Stores</button><br>
          <script>
            var mapboxTiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
              attribution: 'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a>',
              maxZoom: 18,
            })
            var map = L.map('mapid').addLayer(mapboxTiles).setView([22.3, 114.2], 13);
            var items = [];
            var airtable_read_endpoint = "https://api.airtable.com/v0/app9lhFw2d0zCNuUL/Stores?api_key=keyzw1peVZWig6wbC&view=Grid%20view";
            var data = [];
            $.getJSON(airtable_read_endpoint, function(result) {
              $.each(result.records, function(key, value) {
                items = {};
                items["name"] = value.fields.stores_;
                items["url"] = value.fields.url;
                items["pics"] = value.fields.pics;
                items["location"] = value.fields.location;
                items["telephone"] = value.fields.telephone;
                items["business_hours"] = value.fields.business_hours;
                items["n"] = value.fields.n;
                items["e"] = value.fields.e;
                data.push(items);
                console.log(items);
              }); // end .each
            }); // end getJSON
          </script>
          <script>
            function show_stores() {
              for (var i in data) {
                var latlng = L.latLng({
                  lat: data[i].n,
                  lng: data[i].e
                });
                L.marker(latlng).bindPopup('<a href="' + data[i].url + '" target="_blank">' + '<img src="' + data[i].pics + '" width = "200px"><br>' + data[i].name + '</a>' + "<br><b>" + data[i].location + "</b>" + "<br>" + data[i].business_hours + "</br>" + data[i].telephone).addTo(map);
              }
            }
          </script>
        </div>
      </div>
    </div>
  </div>
  <div class="bg-info p-0">
    <div class="container">
      <div class="row">
      </div>
    </div>
  </div>
  <div class="bg-warning py-0">
    <div class="container">
      <div class="row">
        <div class="col-md-12 p-2">
          <h5 class="text-center"> <b>About</b> </h5>
          <p class="mb-0 text-center">This is a student program&nbsp;for the course COM5961 of the New Media Programme of the School of Journalism and Communication, CUHK.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="py-3 bg-warning">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center d-md-flex justify-content-between align-items-center">
          <ul class="nav d-flex justify-content-center">
            <li class="nav-item text-dark shadow-none" style="	text-shadow: 0px 0px 4px black;"> <a class="nav-link active" href="index.html">HOME</a> </li>
            <li class="nav-item" style="	text-shadow: 0px 0px 4px black;"> <a class="nav-link" href="landing.html">ITEMS</a> </li>
            <li class="nav-item" style="	text-shadow: 0px 0px 4px black;"> <a class="nav-link" href="brands.html">BRANDS</a> </li>
            <li class="nav-item" style="	text-shadow: 0px 0px 4px black;"> <a class="nav-link" href="stores.html">STORES</a> </li>
            <li class="nav-item" style="	text-shadow: 0px 0px 4px black;"> <a class="nav-link" href="contact.html">CONTACT US</a> </li>
          </ul>
          <p class="mb-0 py-1">Contact : +852 6449 2826</p>
          <p class="mb-0 py-1">© 2014-2018 Pingendo. All rights reserved</p>
        </div>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.css" rel="stylesheet" type="text/css">
  <script>
    $(document).ready(function() {
      $('#B3').on('click', function() {
        $('#airtable-embed4').toggle();
      });
    });
  </script>
  <script src="popitems.js"></script>
</body>

</html>
